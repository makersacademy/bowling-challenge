(()=>{var r=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var n=r((R,i)=>{i.exports=class{constructor(s=10,e=2,m=2,_=1){this._rolls=[],this._bonusRolls=[],this._maxFramePins=s,this._maxFrameRolls=e,this._bonusRollsOnStrike=m,this._bonusRollsOnSpare=_}addRoll(s){this._rolls.push(s)}addBonus(s){this._isAwaitingBonus&&this._bonusRolls.push(s)}get pinfall(){return this._rolls.reduce((s,e)=>s+e,0)}get bonusPinfall(){return this._bonusRolls.reduce((s,e)=>s+e,0)}get score(){return this.pinfall+this.bonusPinfall}get numOfRolls(){return this._rolls.length}get isStrike(){return this._rolls[0]===this._maxFramePins}get isSpare(){return!this.isStrike&&this.pinfall===this._maxFramePins}get _isAwaitingBonus(){return this.isStrike?this._bonusRolls.length<this._bonusRollsOnStrike:this.isSpare?this._bonusRolls.length<this._bonusRollsOnSpare:!1}get isOver(){return this.numOfRolls===this._maxFrameRolls||this.pinfall===this._maxFramePins}get isFinalized(){return this.isOver&&!this._isAwaitingBonus}}});var a=r((w,o)=>{var d=n();o.exports=class{constructor(s=d,e=10){this._frameClass=s,this._frames=[],this._addNewFrame(),this._maxFrames=e}scorecard(){this._frames.map((s,e)=>({type:s.type,rolls:s.rolls,score:this._scoreUpTo(e),finalized:s.isFinalized}))}bowl(s){return this._broadcastBonuses(s),this._currentFrame.addRoll(s),this._currentFrame.isOver&&this._addNewFrame(),this.totalScore}_broadcastBonuses(s){this._frames.forEach(e=>{e.addBonus(s)})}get totalScore(){return this._frames.slice(0,this._maxFrames).reduce((s,e)=>s+e.score,0)}get _currentFrame(){return this._frames[this._frames.length-1]}_addNewFrame(){this._frames.push(new this._frameClass)}}});var f=a(),l=new f,u=Array.from(Array(11).keys()),g=t=>`<div>${t.map(e=>`<button id='${e}' value='${e}'>${e}</button>`).join(" ")}</div>`;document.getElementById("root").innerHTML=g(u);var h=document.createElement("div");document.getElementById("root").append(h);var c=()=>{h.innerHTML=l.totalScore};c();var p=t=>{let s=parseInt(t.target.value);l.bowl(s),c()};u.forEach(t=>{document.getElementById(t).addEventListener("click",p)});})();
