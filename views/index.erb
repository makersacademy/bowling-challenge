<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> 
   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src='src/bowling.js'></script>
    
    <script>

      $(document).ready(function(){

        $('.header').height($(window).height());
        var bowlingGame = new BowlingGame();
        console.log(bowlingGame);
        $('.complete').hide();
        updateData();

        $('#submitRoll').click(function() {
          try {
            bowlingGame.roll($("#inputRoll").val());
            updateData();
          } catch (error) {
            alert(error);
          }
        })

        function updateData() {
          if (bowlingGame.complete) {
            $('#finalScore').text("Congratulations, you scored " + bowlingGame.currScore + "!");
            $('#currScore').text(bowlingGame.currScore);
            $('.complete').show();
            $('.inGame').hide();
          } else {
            $('#currScore').text(bowlingGame.currScore);
            $('#frame').text(bowlingGame.frame);
            $('#rollNumber').text(bowlingGame.rollNumber);
            $("#inputRoll").val("");
            $('#remainingPins').text(bowlingGame.pinsRemaining);
          }
        };
      });

    </script>
  </head>
  <body>

    <header class="page-header header container-fluid">

      <div class="bowlingtitle">   
        Bowling Score
      </div>

      <div class="test">
        <table class=inGame>
          <tr>
            <td class="tabletext1">Score:</td> 
            <td class="tabletext2" id='currScore'></td> 
          </tr>
          <tr>
            <td class="tabletext1">Frame:</td> 
            <td class="tabletext2" id='frame'></td> 
          </tr>
          <tr>
            <td class="tabletext1">Roll:</td> 
            <td class="tabletext2" id='rollNumber'></td> 
          </tr>      
          <tr>
            <td class="tabletext1">Remaining Pins:</td> 
            <td class="tabletext2" id='remainingPins'></td> 
          </tr>   
        </table>
        <br>
        <label class=inGame id=labelRoll for="roll">Enter Roll</label>
        <input class=inGame id=inputRoll type="text" width=50px name="roll">
        <button class=inGame id='submitRoll'><h4>Submit Roll</h4></button>
        <h1 class=complete></h1><h1 class=complete id=finalScore></h1>
      </div>
    </header>
  </body>
</html>
